<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Anytype</title>

		<style type="text/css">
			@keyframes bubble {
				0%, 100% { transform: scale3d(0.9, 0.9, 1);  }
				50% { transform: scale3d(1.1, 1.1, 1); }
			}

			#bubble-loader {
				position: absolute; width: 154px; height: 154px; left: 50%; top: 50%; transform: translate3d(-50%, -50%, 0); z-index: 10001;
				display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all cubic-bezier(0.5, 0, 0.75, 0) 1s;
				transform-origin: 50% 50%;
			}
			#bubble-loader.small { width: 32px; height: 32px; }
			#bubble-loader .bubble { animation: bubble ease-in-out infinite 3.2s; border-radius: 50%; width: 100%; height: 100%; background-color: transparent; }
			#bubble-loader .bubble .img { width: 100%; height: 100%; background-size: 100%; background-image: url('./img/icon/bubble.svg'); transition: opacity cubic-bezier(0.5, 0, 0.75, 0) 1s; }
			#bubble-loader.inflate { transform: scale3d(20,20,1); }
			#bubble-loader.inflate .bubble { transition: background-color ease-in-out 1s; animation-play-state: paused; }
			#bubble-loader.inflate .bubble .img { opacity: 0; }

			html.themeDark #bubble-loader .bubble .img { background-image: url('./img/theme/dark/icon/bubble.svg'); }
		</style>
	</head>
	<body>
		<div id="bubble-loader">
			<div class="bubble">
				<div class="img"></div>
			</div>
		</div>

		<div id="root"></div>
		<script src="./js/run.js" type="text/javascript"></script>
		<script type="text/javascript">
			const theme = Electron.getTheme();
			const bgColor = Electron.getBgColor();
			const currentWindow = Electron.currentWindow();

			if (theme) {
				document.documentElement.classList.add(`theme${ucFirst(theme)}`);
			};

			if (bgColor) {
				document.body.style.backgroundColor = bgColor;
			};

			if (currentWindow && currentWindow.views && (currentWindow.views.length > 1)) {
				document.getElementById('bubble-loader').classList.add('small');
			};

			function ucFirst (str) {
				return String(str || '').charAt(0).toUpperCase() + str.slice(1).toLowerCase();
			};
		</script>

		<!-- %REPLACE-JS% -->
	</body>
</html>
@import "~scss/_vars";
@import "~scss/theme/dark/_vars";

html.themeDark {

    /* Common */

    body { background: $colorBgPrimary; color-scheme: dark; }

    a:hover { color: $colorSystemAccent100; }

    #root-loader { background: $colorBgPrimary; }
	#globalFade { background: $colorBgPrimary; }

    .cover::after {
        content: ""; position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background: rgba(0,0,0,0.2);
        border-radius: inherit; pointer-events: none;
    }
    .cover.coverAudio::after { display: none; }
    .cover.type2.black { background-color: #000 !important; }

    ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.5); }
	::selection { background-color: $colorSystemSelection; }

    .bgColor-grey { background: rgba(140, 158, 165, 0.25) !important; }
    .bgColor-yellow { background: rgba(236, 217, 27, 0.25) !important; }
    .bgColor-orange { background: rgba(255, 181, 34, 0.25) !important; }
    .bgColor-red { background: rgba(245, 85, 34, 0.25) !important; }
    .bgColor-pink { background: rgba(229, 28, 160, 0.25) !important; }
    .bgColor-purple { background: rgba(171, 80, 204, 0.25) !important; }
    .bgColor-blue { background: rgba(62, 88, 235, 0.25) !important; }
    .bgColor-ice { background: rgba(42, 167, 238, 0.25) !important; }
    .bgColor-teal { background: rgba(15, 200, 186, 0.25) !important; }
    .bgColor-lime { background: rgba(93, 212, 0, 0.25) !important; }

	.isMultiSelect.archive { background-color: $colorShapeHighlightMedium; }
    .isMultiSelect.tagColor-default { background: unset !important; box-shadow: 0px 0px 0px 1px $colorShapePrimary inset; }
    .isMultiSelect.tagColor-grey { color: #8c9ea5 !important; background: rgba(140, 158, 165, 0.25) !important; }
    .isMultiSelect.tagColor-yellow { color: $colorYellow !important; background: rgba(236, 217, 27, 0.25) !important; }
    .isMultiSelect.tagColor-orange { color: $colorOrange !important; background: rgba(255, 181, 34, 0.25) !important; }
    .isMultiSelect.tagColor-red { color: $colorRed !important; background: rgba(245, 85, 34, 0.25) !important; }
    .isMultiSelect.tagColor-pink { color: $colorPink !important; background: rgba(229, 28, 160, 0.25) !important; }
    .isMultiSelect.tagColor-purple { color: $colorPurple !important; background: rgba(171, 80, 204, 0.25) !important; }
    .isMultiSelect.tagColor-blue { color: $colorBlue !important; background: rgba(62, 88, 235, 0.25) !important; }
    .isMultiSelect.tagColor-ice { color: $colorIce !important; background: rgba(42, 167, 238, 0.25) !important; }
    .isMultiSelect.tagColor-teal { color: $colorTeal !important; background: rgba(15, 200, 186, 0.25) !important; }
    .isMultiSelect.tagColor-lime { color: $colorLime !important; background: rgba(93, 212, 0, 0.25) !important; }

	.selectable.isSelectionSelected::after, 
	.block.isSelectionSelected > .wrapContent > .selectable::after 
	{ background-color: $colorSystemSelection; }

	.brokenMedia { border-color: $colorShapePrimary; }
	.brokenMedia {
		img:before { background: $colorBgSecondary; }
	}

	.icon.import-notion { background-image: url('#{$themePath}/icon/import/notion.svg'); }
    .icon.import-roam { background-image: url('#{$themePath}/icon/import/roam.svg'); }

	.objectManagerWrapper {
        .controls .side.left .element:hover { background-color: $colorShapeHighlightMedium; }
        .icon.checkbox { background-image: url('#{$themePath}/icon/archive/checkbox0.svg') !important; }
        .icon.checkbox.active { background-image: url('#{$themePath}/icon/archive/checkbox1.svg') !important; }
        .icon.remove { background-image: url('#{$themePath}/icon/menu/action/remove0.svg'); }
        .icon.search { background-image: url('#{$themePath}/icon/menu/action/search0.svg'); }
		.controls, .emptySearch { border-color: $colorShapePrimary; }
	}

    /* Components */

    .loaderWrapper {
		@keyframes dots-dark {
			0% { background-color: $colorBgPrimary; }
			32% { background-color: $colorBgPrimary; }
			100% { background-color: #fff; }
		}

        .loader { border-color: $colorShapePrimary; border-left-color: $colorSystemAccent100; }
		.dot { animation-name: dots-dark; border-color: $colorControlAccent; }
    }

    .mediaAudio {
        .controls {
            .icon.play { background-image: url('#{$themePath}/icon/audio/play.svg'); }
            .icon.play.active { background-image: url('#{$themePath}/icon/audio/pause.svg'); }

            .icon.volume { background-image: url('#{$themePath}/icon/audio/volume.svg'); }
            .icon.volume.active { background-image: url('#{$themePath}/icon/audio/mute.svg'); }

            .input-drag {
                .back { background: $colorShapeHighlightMedium; }
            }
        }
    }

    /* Button */

	.button.black { background: $colorControlAccent; }
	.button.black:hover,
    .button.black.hover { background: $colorControlActive }
	.button.black {
		.arrow { background-image: url('~img/arrow/button/black.svg'); }
	}

    .button.blank { border-color: $colorShapePrimary; }
    .button.blank:not(.disabled):hover,
    .button.blank:not(.disabled).hover { border-color: $colorShapePrimary; background: $colorShapeHighlightMedium; }

	.button.red,
    .button.red.blank { border-color: $colorShapePrimary; background: none; color: $colorRed; }
    .button.red:hover,
    .button.red.hover,
    .button.red.blank:hover,
    .button.red.blank.hover { border-color: #581f0c; background: #311107; }

    .filter {
        .line { background: $colorShapeSecondary; }
		.icon.clear { background-image: url('#{$themePath}/icon/clear0.svg') !important; }
		.icon.clear:hover { background-image: url('#{$themePath}/icon/clear1.svg') !important; }
    }

    .frame { background: $colorBgPrimary; }

    .textarea { background: none; }

    .switch { background: $colorShapeSecondary; }

	.textareaWrap { background-color: $colorBgSecondary; }

    .select { border-color: $colorShapePrimary; }
    .select:hover, .select.active { background: $colorShapeHighlightMedium; }
    .select {
        .icon.arrow { background-image: url('#{$themePath}/arrow/select/dark.svg') !important; }
    }

	.input.isReadonly { background: rgba(255,255,255,0.1); }

    .inputWithFile { background: $colorShapeHighlightMedium; border-color: transparent; }

    .listPreviewObject {
        .item.add { border-color: $colorShapePrimary; }
        .item:before { background: $colorShapeHighlightMedium; }

        .item {
            > .icon.more:hover,
            > .icon.more.hover { background-color: $colorShapeHighlightMedium; }
            > .defaultLabel { background: $colorShapeTertiary; }
        }

        .icon.arrow { background-image: url('#{$themePath}/arrow/template0.svg'); }
        .icon.arrow:hover { background-image: url('#{$themePath}/arrow/template1.svg'); }
        .icon.arrow.disabled:hover { background-image: url('#{$themePath}/arrow/template0.svg'); }
    }

    .deleteWrapper { background: $colorBgPrimary; }

	.sync { background-color: $colorShapeSecondary;}

    /* PreviewObject */

    .previewObject {
        .border { border-color: $colorShapePrimary; }
        .loaderWrapper { border-color: $colorShapePrimary; }
        .icon.logo { background-image: url('#{$themePath}/icon/type/logo.svg'); }
        .moreWrapper { background: $colorShapeTertiary; }
        .heading {
            .iconObject { background-color: $colorShapeTertiary; }
			.iconObject.isTask, .iconObject.isBookmark { background-color: unset; }

            .featured { background: $colorShapeSecondary; }
            .bullet { background: $colorShapeSecondary; }
        }

        .blocks {
            .element {
                .line { background: $colorShapeSecondary !important; }

                .inner {
					.icon.hl { background-image: url('#{$themePath}/icon/object/preview/hl.svg'); }

                    .bookmark {
                        .side.left { border-color: $colorShapePrimary; }
                    }
                }
            }
        }
    }

	.previewObject.small,
    .previewObject.medium {
		.heading {
			  .featured { background: $colorShapeSecondary; }
		}
	}

    /* Preview */

    .previewWrapper {
        .content { background: $colorBgSecondary; }
        .head { border-color: $colorShapeSecondary; }

        .previewLink {
            .img { border-color: $colorShapeSecondary; }
        }
    }

	.previewGraph { background: $colorBgSecondary; border-color: $colorShapePrimary; box-shadow: 0px 4px 16px rgb(0 0 0 / 20%), 0px 0px 0px 1px #393933 inset; }

    /* Pager */

    .pager {
        .pageItem.active { color: $colorSystemAccent100; }

        .icon.arrow { background-image: url('#{$themePath}/arrow/pager0.svg'); }
        .icon.arrow:hover { background-image: url('#{$themePath}/arrow/pager1.svg'); }
        .icon.arrow.disabled:hover { background-image: url('#{$themePath}/arrow/pager0.svg'); }

        .icon.arrow.end { background-image: url('#{$themePath}/arrow/pagerEnd0.svg'); }
        .icon.arrow.end:hover { background-image: url('#{$themePath}/arrow/pagerEnd1.svg'); }
        .icon.arrow.end.disabled:hover { background-image: url('#{$themePath}/arrow/pagerEnd0.svg'); }
    }

    /* Progress */

    .progress {
        .inner { background: $colorBgSecondary; }
        .inner {
            .bar { background: $colorShapeHighlightMedium; }
        }
    }

	.progressBar {
		.bar {
			.fill.empty { background-color: $colorShapeTertiary; }
		}
	}

    .tooltip.big { background: $colorBgSecondary; border: 1px solid rgba(229, 229, 229, 0.1); }

    /* Icon */

    .icon.ghost { background-image: url('#{$themePath}/icon/ghost.svg'); }

    /* IconObject */

    .iconObject.c40.isRelation, 
    .iconObject.c48.isRelation,
    .iconObject.c56, 
    .iconObject.c64,
    .iconObject.c80,
    .iconObject.c96,
    .iconObject.c112,
    .iconObject.c128,
    .iconObject.withLetter
    { background-color: $colorShapeTertiary; }

    /* EditorControls */

    .editorControls {
        .btn { background: $colorShapeSecondary; }
Ñ‹
        .btn {
            .icon.icon { background-image: url('#{$themePath}/icon/add/icon0.svg'); }
            .icon.addCover { background-image: url('#{$themePath}/icon/add/cover0.svg'); }
            .icon.layout { background-image: url('#{$themePath}/icon/add/layout0.svg'); }
            .icon.relation { background-image: url('#{$themePath}/icon/add/relation0.svg');  }
        }
        .btn:hover, .btn.hover {
            .icon.icon { background-image: url('#{$themePath}/icon/add/icon1.svg'); }
            .icon.addCover { background-image: url('#{$themePath}/icon/add/cover1.svg'); }
            .icon.layout { background-image: url('#{$themePath}/icon/add/layout1.svg'); }
            .icon.relation { background-image: url('#{$themePath}/icon/add/relation1.svg');  }
        }
    }

    /* Header */

    .header.isCommon { background: $colorBgPrimary; }
    .header.isCommon {
        .path { border: 0px; line-height: 28px; }
		.path:hover { background-color: $colorShapeHighlightMedium; }

        .icon:hover, .icon.hover { background-color: $colorShapeHighlightMedium; }

        .tabs {
            .tab.active, .tab:hover { border-color: $colorShapePrimary; }
        }

        .headerBanner { background: $colorShapeTertiary; }
        .headerBanner.withMenu:after { background-image: url('~img/arrow/button/white.svg'); }
    }
	.header.isCommon.active {
		.path { background-color: $colorShapeHighlightMedium; }
	}

    .header.mainHistory { background: $colorBgPrimary; }
    .header.mainHistory {
        .side {
            .item {
                .icon.arrow { background-image: url('#{$themePath}/arrow/history0.svg'); margin: 0px; }
            }
        }
        
		.item:hover {
			.icon.arrow { background-image: url('#{$themePath}/arrow/history1.svg'); }
		}
    }

    /* Footer */

    .footer {
        .iconWrap .bg { background-color: $colorShapeSecondary; border-color: $colorShapeSecondary; }
    }

    /* Sidebar */

    .sidebar { background-color: $colorBgSecondary; box-shadow: 0px 4px 16px rgba(0,0,0,0.2); }
    .sidebar.fixed { box-shadow: 0px 0px rgba(0,0,0,0); }
    .sidebar {
		> .head {
			.icon:hover { background-color: $colorShapeHighlightMedium; }
		}

		.resize-h .resize-handle::after { background-color: $colorShapeSecondary; }
    }

	/* Navigation */

	.navigationPanel { background: rgba(141, 141, 141, 0.2); }
	.navigationPanel {
		.iconWrap:not(.disabled):hover, .iconWrap.active { background-color: rgba(255, 255, 255, 0.1); }
	}

    /* Cells */

    .cell.isEditing {
        .cellContent { background: $colorBgPrimary; }
    }

	/* Notifications */

	@mixin shadow { box-shadow: 0px 4px 16px rgb(0 0 0 / 20%), 0px 0px 0px 1px #393933 inset; }

	.notifications {
		.head {
			.icon { background-color: $colorBgPrimary; border-color: $colorBgSecondary; }
			.icon:hover { background-color: $colorShapeHighlightMedium; }
		}

		.notification {	background: $colorBgSecondary; @include shadow; border: 0px; }

		.notification {
			.icon.delete { border-color: $colorShapeSecondary; background-color: $colorBgSecondary; }
		}
	}

	@import "./menu.scss";
    @import "./popup.scss";
    @import "./page.scss";
    @import "./block.scss";
	@import "./widget.scss";
}

html.platformWindows.themeDark, html.platformLinux.themeDark {
	::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.5); }
}
